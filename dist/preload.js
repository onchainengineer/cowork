// src/desktop/preload.ts
var import_electron = require("electron");
window.addEventListener("message", (event) => {
  if (event.data === "start-orpc-client" && event.ports?.[0]) {
    import_electron.ipcRenderer.postMessage("start-orpc-server", null, [...event.ports]);
  }
});
import_electron.contextBridge.exposeInMainWorld("api", {
  platform: process.platform,
  versions: {
    node: process.versions.node,
    chrome: process.versions.chrome,
    electron: process.versions.electron
  },
  isE2E: process.env.UNIX_E2E === "1",
  enableTelemetryInDev: process.env.UNIX_ENABLE_TELEMETRY_IN_DEV === "1",
  debugLlmRequest: process.env.UNIX_DEBUG_LLM_REQUEST === "1",
  getIsRosetta: () => import_electron.ipcRenderer.invoke("unix:get-is-rosetta"),
  getIsWindowsWslShell: () => import_electron.ipcRenderer.invoke("unix:get-is-windows-wsl-shell"),
  onNotificationClicked: (callback) => {
    const listener = (_event, data) => callback(data);
    import_electron.ipcRenderer.on("unix:notification-clicked", listener);
    return () => {
      import_electron.ipcRenderer.off("unix:notification-clicked", listener);
    };
  }
});

//# debugId=FAB4CA69B345C71364756E2164756E21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL2Rlc2t0b3AvcHJlbG9hZC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsKICAgICIvKipcbiAqIEVsZWN0cm9uIFByZWxvYWQgU2NyaXB0XG4gKlxuICogVGhpcyBzY3JpcHQgYnJpZGdlcyB0aGUgcmVuZGVyZXIgcHJvY2VzcyB3aXRoIHRoZSBtYWluIHByb2Nlc3MgdmlhIE9SUEMgb3ZlciBNZXNzYWdlUG9ydC5cbiAqXG4gKiBLZXkgcmVzcG9uc2liaWxpdGllczpcbiAqIDEpIEZvcndhcmQgTWVzc2FnZVBvcnQgZnJvbSByZW5kZXJlciB0byBtYWluIHByb2Nlc3MgZm9yIE9SUEMgdHJhbnNwb3J0IHNldHVwXG4gKiAyKSBFeHBvc2UgbWluaW1hbCBwbGF0Zm9ybSBpbmZvIHRvIHJlbmRlcmVyIHZpYSBjb250ZXh0QnJpZGdlXG4gKlxuICogVGhlIE9SUEMgY29ubmVjdGlvbiBmbG93OlxuICogLSBSZW5kZXJlciBjcmVhdGVzIE1lc3NhZ2VDaGFubmVsLCBwb3N0cyBcInN0YXJ0LW9ycGMtY2xpZW50XCIgd2l0aCBzZXJ2ZXJQb3J0XG4gKiAtIFByZWxvYWQgaW50ZXJjZXB0cywgZm9yd2FyZHMgc2VydmVyUG9ydCB0byBtYWluIHZpYSBpcGNSZW5kZXJlci5wb3N0TWVzc2FnZVxuICogLSBNYWluIHByb2Nlc3MgdXBncmFkZXMgdGhlIHBvcnQgd2l0aCBSUENIYW5kbGVyIGZvciBiaWRpcmVjdGlvbmFsIFJQQ1xuICpcbiAqIEJ1aWxkOiBgYnVuIGJ1aWxkIHNyYy9kZXNrdG9wL3ByZWxvYWQudHMgLS1mb3JtYXQ9Y2pzIC0tdGFyZ2V0PW5vZGUgLS1leHRlcm5hbD1lbGVjdHJvbmBcbiAqL1xuXG5pbXBvcnQgeyBjb250ZXh0QnJpZGdlLCBpcGNSZW5kZXJlciB9IGZyb20gXCJlbGVjdHJvblwiO1xuXG4vLyBGb3J3YXJkIE9SUEMgTWVzc2FnZVBvcnQgZnJvbSByZW5kZXJlciB0byBtYWluIHByb2Nlc3NcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCAoZXZlbnQpID0+IHtcbiAgaWYgKGV2ZW50LmRhdGEgPT09IFwic3RhcnQtb3JwYy1jbGllbnRcIiAmJiBldmVudC5wb3J0cz8uWzBdKSB7XG4gICAgaXBjUmVuZGVyZXIucG9zdE1lc3NhZ2UoXCJzdGFydC1vcnBjLXNlcnZlclwiLCBudWxsLCBbLi4uZXZlbnQucG9ydHNdKTtcbiAgfVxufSk7XG5cbmNvbnRleHRCcmlkZ2UuZXhwb3NlSW5NYWluV29ybGQoXCJhcGlcIiwge1xuICBwbGF0Zm9ybTogcHJvY2Vzcy5wbGF0Zm9ybSxcbiAgdmVyc2lvbnM6IHtcbiAgICBub2RlOiBwcm9jZXNzLnZlcnNpb25zLm5vZGUsXG4gICAgY2hyb21lOiBwcm9jZXNzLnZlcnNpb25zLmNocm9tZSxcbiAgICBlbGVjdHJvbjogcHJvY2Vzcy52ZXJzaW9ucy5lbGVjdHJvbixcbiAgfSxcbiAgaXNFMkU6IHByb2Nlc3MuZW52LlVOSVhfRTJFID09PSBcIjFcIixcbiAgZW5hYmxlVGVsZW1ldHJ5SW5EZXY6IHByb2Nlc3MuZW52LlVOSVhfRU5BQkxFX1RFTEVNRVRSWV9JTl9ERVYgPT09IFwiMVwiLFxuICAvLyBOb3RlOiBXaGVuIGRlYnVnZ2luZyBMTE0gcmVxdWVzdHMsIHdlIGFsc28gd2FudCB0byBzZWUgc3ludGhldGljL3JlcXVlc3Qtb25seVxuICAvLyBtZXNzYWdlcyBpbiB0aGUgY2hhdCBoaXN0b3J5IHNvIHRoZSBVSSBtYXRjaGVzIHdoYXQgd2FzIHNlbnQgdG8gdGhlIHByb3ZpZGVyLlxuICBkZWJ1Z0xsbVJlcXVlc3Q6IHByb2Nlc3MuZW52LlVOSVhfREVCVUdfTExNX1JFUVVFU1QgPT09IFwiMVwiLFxuICAvLyBOT1RFOiBUaGlzIGlzIGludGVudGlvbmFsbHkgYXN5bmMgc28gdGhlIHByZWxvYWQgc2NyaXB0IGRvZXMgbm90IHJlbHkgb24gTm9kZSBidWlsdGluc1xuICAvLyBsaWtlIGBjaGlsZF9wcm9jZXNzYCAod2hpY2ggY2FuIGJyZWFrIGluIGhhcmRlbmVkL3NhbmRib3hlZCBlbnZpcm9ubWVudHMpLlxuICBnZXRJc1Jvc2V0dGE6ICgpID0+IGlwY1JlbmRlcmVyLmludm9rZShcInVuaXg6Z2V0LWlzLXJvc2V0dGFcIiksXG4gIGdldElzV2luZG93c1dzbFNoZWxsOiAoKSA9PiBpcGNSZW5kZXJlci5pbnZva2UoXCJ1bml4OmdldC1pcy13aW5kb3dzLXdzbC1zaGVsbFwiKSxcbiAgLy8gUmVnaXN0ZXIgYSBjYWxsYmFjayBmb3Igbm90aWZpY2F0aW9uIGNsaWNrcyAobmF2aWdhdGVzIHRvIHdvcmtzcGFjZSlcbiAgLy8gUmV0dXJucyBhbiB1bnN1YnNjcmliZSBmdW5jdGlvbi5cbiAgb25Ob3RpZmljYXRpb25DbGlja2VkOiAoY2FsbGJhY2s6IChkYXRhOiB7IHdvcmtzcGFjZUlkOiBzdHJpbmcgfSkgPT4gdm9pZCkgPT4ge1xuICAgIGNvbnN0IGxpc3RlbmVyID0gKF9ldmVudDogdW5rbm93biwgZGF0YTogeyB3b3Jrc3BhY2VJZDogc3RyaW5nIH0pID0+IGNhbGxiYWNrKGRhdGEpO1xuICAgIGlwY1JlbmRlcmVyLm9uKFwidW5peDpub3RpZmljYXRpb24tY2xpY2tlZFwiLCBsaXN0ZW5lcik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlwY1JlbmRlcmVyLm9mZihcInVuaXg6bm90aWZpY2F0aW9uLWNsaWNrZWRcIiwgbGlzdGVuZXIpO1xuICAgIH07XG4gIH0sXG59KTtcbiIKICBdLAogICJtYXBwaW5ncyI6ICI7QUFpQjJDLElBQTNDO0FBR0EsT0FBTyxpQkFBaUIsV0FBVyxDQUFDLFVBQVU7QUFBQSxFQUM1QyxJQUFJLE1BQU0sU0FBUyx1QkFBdUIsTUFBTSxRQUFRLElBQUk7QUFBQSxJQUMxRCw0QkFBWSxZQUFZLHFCQUFxQixNQUFNLENBQUMsR0FBRyxNQUFNLEtBQUssQ0FBQztBQUFBLEVBQ3JFO0FBQUEsQ0FDRDtBQUVELDhCQUFjLGtCQUFrQixPQUFPO0FBQUEsRUFDckMsVUFBVSxRQUFRO0FBQUEsRUFDbEIsVUFBVTtBQUFBLElBQ1IsTUFBTSxRQUFRLFNBQVM7QUFBQSxJQUN2QixRQUFRLFFBQVEsU0FBUztBQUFBLElBQ3pCLFVBQVUsUUFBUSxTQUFTO0FBQUEsRUFDN0I7QUFBQSxFQUNBLE9BQU8sUUFBUSxJQUFJLGFBQWE7QUFBQSxFQUNoQyxzQkFBc0IsUUFBUSxJQUFJLGlDQUFpQztBQUFBLEVBR25FLGlCQUFpQixRQUFRLElBQUksMkJBQTJCO0FBQUEsRUFHeEQsY0FBYyxNQUFNLDRCQUFZLE9BQU8scUJBQXFCO0FBQUEsRUFDNUQsc0JBQXNCLE1BQU0sNEJBQVksT0FBTywrQkFBK0I7QUFBQSxFQUc5RSx1QkFBdUIsQ0FBQyxhQUFzRDtBQUFBLElBQzVFLE1BQU0sV0FBVyxDQUFDLFFBQWlCLFNBQWtDLFNBQVMsSUFBSTtBQUFBLElBQ2xGLDRCQUFZLEdBQUcsNkJBQTZCLFFBQVE7QUFBQSxJQUNwRCxPQUFPLE1BQU07QUFBQSxNQUNYLDRCQUFZLElBQUksNkJBQTZCLFFBQVE7QUFBQTtBQUFBO0FBRzNELENBQUM7IiwKICAiZGVidWdJZCI6ICJGQUI0Q0E2OUIzNDVDNzEzNjQ3NTZFMjE2NDc1NkUyMSIsCiAgIm5hbWVzIjogW10KfQ==
