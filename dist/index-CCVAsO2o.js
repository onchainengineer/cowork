import{w as we,l as Ce,N as le,u as z,g as ge,a as Se,c as oe,p as te,U as X,d as Te,x as ce,b as ue,j as Ie,k as Oe,A as Ne,h as Ee,s as O,z as N,v as G,n as pe,q as qe}from"./index-DCLtZRWp.js";import{o as t,a as E,s as e,n as s,_ as W,d as B,t as ne,l as o,e as K,b as V,h as ae,u as re,r as xe}from"./main-D4-rBj0Y.js";import"./__vite-browser-external-2447137e-qv044l9q.js";var Re="2.0.53",Ae=O(()=>N(t({type:o("error"),error:t({type:e(),message:e()})}))),de=qe({errorSchema:Ae,errorToMessage:n=>n.error.message}),Me=O(()=>N(t({type:o("message"),id:e().nullish(),model:e().nullish(),content:E(B("type",[t({type:o("text"),text:e(),citations:E(B("type",[t({type:o("web_search_result_location"),cited_text:e(),url:e(),title:e(),encrypted_index:e()}),t({type:o("page_location"),cited_text:e(),document_index:s(),document_title:e().nullable(),start_page_number:s(),end_page_number:s()}),t({type:o("char_location"),cited_text:e(),document_index:s(),document_title:e().nullable(),start_char_index:s(),end_char_index:s()})])).optional()}),t({type:o("thinking"),thinking:e(),signature:e()}),t({type:o("redacted_thinking"),data:e()}),t({type:o("tool_use"),id:e(),name:e(),input:re()}),t({type:o("server_tool_use"),id:e(),name:e(),input:xe(e(),re()).nullish()}),t({type:o("web_fetch_tool_result"),tool_use_id:e(),content:V([t({type:o("web_fetch_result"),url:e(),retrieved_at:e(),content:t({type:o("document"),title:e().nullable(),citations:t({enabled:K()}).optional(),source:t({type:o("text"),media_type:e(),data:e()})})}),t({type:o("web_fetch_tool_result_error"),error_code:e()})])}),t({type:o("web_search_tool_result"),tool_use_id:e(),content:V([E(t({type:o("web_search_result"),url:e(),title:e(),encrypted_content:e(),page_age:e().nullish()})),t({type:o("web_search_tool_result_error"),error_code:e()})])}),t({type:o("code_execution_tool_result"),tool_use_id:e(),content:V([t({type:o("code_execution_result"),stdout:e(),stderr:e(),return_code:s()}),t({type:o("code_execution_tool_result_error"),error_code:e()})])}),t({type:o("bash_code_execution_tool_result"),tool_use_id:e(),content:B("type",[t({type:o("bash_code_execution_result"),content:E(t({type:o("bash_code_execution_output"),file_id:e()})),stdout:e(),stderr:e(),return_code:s()}),t({type:o("bash_code_execution_tool_result_error"),error_code:e()})])}),t({type:o("text_editor_code_execution_tool_result"),tool_use_id:e(),content:B("type",[t({type:o("text_editor_code_execution_tool_result_error"),error_code:e()}),t({type:o("text_editor_code_execution_view_result"),content:e(),file_type:e(),num_lines:s().nullable(),start_line:s().nullable(),total_lines:s().nullable()}),t({type:o("text_editor_code_execution_create_result"),is_file_update:K()}),t({type:o("text_editor_code_execution_str_replace_result"),lines:E(e()).nullable(),new_lines:s().nullable(),new_start:s().nullable(),old_lines:s().nullable(),old_start:s().nullable()})])})])),stop_reason:e().nullish(),stop_sequence:e().nullish(),usage:ae({input_tokens:s(),output_tokens:s(),cache_creation_input_tokens:s().nullish(),cache_read_input_tokens:s().nullish()}),container:t({expires_at:e(),id:e(),skills:E(t({type:V([o("anthropic"),o("custom")]),skill_id:e(),version:e()})).nullish()}).nullish()}))),Ue=O(()=>N(B("type",[t({type:o("message_start"),message:t({id:e().nullish(),model:e().nullish(),usage:ae({input_tokens:s(),cache_creation_input_tokens:s().nullish(),cache_read_input_tokens:s().nullish()})})}),t({type:o("content_block_start"),index:s(),content_block:B("type",[t({type:o("text"),text:e()}),t({type:o("thinking"),thinking:e()}),t({type:o("tool_use"),id:e(),name:e()}),t({type:o("redacted_thinking"),data:e()}),t({type:o("server_tool_use"),id:e(),name:e(),input:xe(e(),re()).nullish()}),t({type:o("web_fetch_tool_result"),tool_use_id:e(),content:V([t({type:o("web_fetch_result"),url:e(),retrieved_at:e(),content:t({type:o("document"),title:e().nullable(),citations:t({enabled:K()}).optional(),source:t({type:o("text"),media_type:e(),data:e()})})}),t({type:o("web_fetch_tool_result_error"),error_code:e()})])}),t({type:o("web_search_tool_result"),tool_use_id:e(),content:V([E(t({type:o("web_search_result"),url:e(),title:e(),encrypted_content:e(),page_age:e().nullish()})),t({type:o("web_search_tool_result_error"),error_code:e()})])}),t({type:o("code_execution_tool_result"),tool_use_id:e(),content:V([t({type:o("code_execution_result"),stdout:e(),stderr:e(),return_code:s()}),t({type:o("code_execution_tool_result_error"),error_code:e()})])}),t({type:o("bash_code_execution_tool_result"),tool_use_id:e(),content:B("type",[t({type:o("bash_code_execution_result"),content:E(t({type:o("bash_code_execution_output"),file_id:e()})),stdout:e(),stderr:e(),return_code:s()}),t({type:o("bash_code_execution_tool_result_error"),error_code:e()})])}),t({type:o("text_editor_code_execution_tool_result"),tool_use_id:e(),content:B("type",[t({type:o("text_editor_code_execution_tool_result_error"),error_code:e()}),t({type:o("text_editor_code_execution_view_result"),content:e(),file_type:e(),num_lines:s().nullable(),start_line:s().nullable(),total_lines:s().nullable()}),t({type:o("text_editor_code_execution_create_result"),is_file_update:K()}),t({type:o("text_editor_code_execution_str_replace_result"),lines:E(e()).nullable(),new_lines:s().nullable(),new_start:s().nullable(),old_lines:s().nullable(),old_start:s().nullable()})])})])}),t({type:o("content_block_delta"),index:s(),delta:B("type",[t({type:o("input_json_delta"),partial_json:e()}),t({type:o("text_delta"),text:e()}),t({type:o("thinking_delta"),thinking:e()}),t({type:o("signature_delta"),signature:e()}),t({type:o("citations_delta"),citation:B("type",[t({type:o("web_search_result_location"),cited_text:e(),url:e(),title:e(),encrypted_index:e()}),t({type:o("page_location"),cited_text:e(),document_index:s(),document_title:e().nullable(),start_page_number:s(),end_page_number:s()}),t({type:o("char_location"),cited_text:e(),document_index:s(),document_title:e().nullable(),start_char_index:s(),end_char_index:s()})])})])}),t({type:o("content_block_stop"),index:s()}),t({type:o("error"),error:t({type:e(),message:e()})}),t({type:o("message_delta"),delta:t({stop_reason:e().nullish(),stop_sequence:e().nullish(),container:t({expires_at:e(),id:e(),skills:E(t({type:V([o("anthropic"),o("custom")]),skill_id:e(),version:e()})).nullish()}).nullish()}),usage:ae({output_tokens:s(),cache_creation_input_tokens:s().nullish()})}),t({type:o("message_stop")}),t({type:o("ping")})]))),$e=O(()=>N(t({signature:e().optional(),redactedData:e().optional()}))),_e=t({citations:t({enabled:K()}).optional(),title:e().optional(),context:e().optional()}),je=t({sendReasoning:K().optional(),structuredOutputMode:W(["outputFormat","jsonTool","auto"]).optional(),thinking:t({type:V([o("enabled"),o("disabled")]),budgetTokens:s().optional()}).optional(),disableParallelToolUse:K().optional(),cacheControl:t({type:o("ephemeral"),ttl:V([o("5m"),o("1h")]).optional()}).optional(),container:t({id:e().optional(),skills:E(t({type:V([o("anthropic"),o("custom")]),skillId:e(),version:e().optional()})).optional()}).optional(),effort:W(["low","medium","high"]).optional()}),he=4;function De(n){var p;const r=n?.anthropic;return(p=r?.cacheControl)!=null?p:r?.cache_control}var se=class{constructor(){this.breakpointCount=0,this.warnings=[]}getCacheControl(n,p){const r=De(n);if(r){if(!p.canCache){this.warnings.push({type:"unsupported-setting",setting:"cacheControl",details:`cache_control cannot be set on ${p.type}. It will be ignored.`});return}if(this.breakpointCount++,this.breakpointCount>he){this.warnings.push({type:"unsupported-setting",setting:"cacheControl",details:`Maximum ${he} cache breakpoints exceeded (found ${this.breakpointCount}). This breakpoint will be ignored.`});return}return r}}getWarnings(){return this.warnings}},Be=O(()=>N(t({maxCharacters:s().optional()}))),He=O(()=>N(t({command:W(["view","create","str_replace","insert"]),path:e(),file_text:e().optional(),insert_line:s().int().optional(),new_str:e().optional(),old_str:e().optional(),view_range:E(s().int()).optional()}))),Le=z({id:"anthropic.text_editor_20250728",name:"str_replace_based_edit_tool",inputSchema:He}),Pe=(n={})=>Le(n),Je=O(()=>N(t({maxUses:s().optional(),allowedDomains:E(e()).optional(),blockedDomains:E(e()).optional(),userLocation:t({type:o("approximate"),city:e().optional(),region:e().optional(),country:e().optional(),timezone:e().optional()}).optional()}))),be=O(()=>N(E(t({url:e(),title:e(),pageAge:e().nullable(),encryptedContent:e(),type:o("web_search_result")})))),Ve=O(()=>N(t({query:e()}))),Ke=oe({id:"anthropic.web_search_20250305",name:"web_search",inputSchema:Ve,outputSchema:be}),Fe=(n={})=>Ke(n),We=O(()=>N(t({maxUses:s().optional(),allowedDomains:E(e()).optional(),blockedDomains:E(e()).optional(),citations:t({enabled:K()}).optional(),maxContentTokens:s().optional()}))),fe=O(()=>N(t({type:o("web_fetch_result"),url:e(),content:t({type:o("document"),title:e(),citations:t({enabled:K()}).optional(),source:V([t({type:o("base64"),mediaType:o("application/pdf"),data:e()}),t({type:o("text"),mediaType:o("text/plain"),data:e()})])}),retrievedAt:e().nullable()}))),ze=O(()=>N(t({url:e()}))),Ge=oe({id:"anthropic.web_fetch_20250910",name:"web_fetch",inputSchema:ze,outputSchema:fe}),Xe=(n={})=>Ge(n);async function Ye({tools:n,toolChoice:p,disableParallelToolUse:r,cacheControlValidator:m}){n=n?.length?n:void 0;const y=[],g=new Set,k=m||new se;if(n==null)return{tools:void 0,toolChoice:void 0,toolWarnings:y,betas:g};const b=[];for(const h of n)switch(h.type){case"function":{const S=k.getCacheControl(h.providerOptions,{type:"tool definition",canCache:!0});b.push({name:h.name,description:h.description,input_schema:h.inputSchema,cache_control:S});break}case"provider-defined":{switch(h.id){case"anthropic.code_execution_20250522":{g.add("code-execution-2025-05-22"),b.push({type:"code_execution_20250522",name:"code_execution",cache_control:void 0});break}case"anthropic.code_execution_20250825":{g.add("code-execution-2025-08-25"),b.push({type:"code_execution_20250825",name:"code_execution"});break}case"anthropic.computer_20250124":{g.add("computer-use-2025-01-24"),b.push({name:"computer",type:"computer_20250124",display_width_px:h.args.displayWidthPx,display_height_px:h.args.displayHeightPx,display_number:h.args.displayNumber,cache_control:void 0});break}case"anthropic.computer_20241022":{g.add("computer-use-2024-10-22"),b.push({name:"computer",type:"computer_20241022",display_width_px:h.args.displayWidthPx,display_height_px:h.args.displayHeightPx,display_number:h.args.displayNumber,cache_control:void 0});break}case"anthropic.text_editor_20250124":{g.add("computer-use-2025-01-24"),b.push({name:"str_replace_editor",type:"text_editor_20250124",cache_control:void 0});break}case"anthropic.text_editor_20241022":{g.add("computer-use-2024-10-22"),b.push({name:"str_replace_editor",type:"text_editor_20241022",cache_control:void 0});break}case"anthropic.text_editor_20250429":{g.add("computer-use-2025-01-24"),b.push({name:"str_replace_based_edit_tool",type:"text_editor_20250429",cache_control:void 0});break}case"anthropic.text_editor_20250728":{const S=await G({value:h.args,schema:Be});b.push({name:"str_replace_based_edit_tool",type:"text_editor_20250728",max_characters:S.maxCharacters,cache_control:void 0});break}case"anthropic.bash_20250124":{g.add("computer-use-2025-01-24"),b.push({name:"bash",type:"bash_20250124",cache_control:void 0});break}case"anthropic.bash_20241022":{g.add("computer-use-2024-10-22"),b.push({name:"bash",type:"bash_20241022",cache_control:void 0});break}case"anthropic.memory_20250818":{g.add("context-management-2025-06-27"),b.push({name:"memory",type:"memory_20250818"});break}case"anthropic.web_fetch_20250910":{g.add("web-fetch-2025-09-10");const S=await G({value:h.args,schema:We});b.push({type:"web_fetch_20250910",name:"web_fetch",max_uses:S.maxUses,allowed_domains:S.allowedDomains,blocked_domains:S.blockedDomains,citations:S.citations,max_content_tokens:S.maxContentTokens,cache_control:void 0});break}case"anthropic.web_search_20250305":{const S=await G({value:h.args,schema:Je});b.push({type:"web_search_20250305",name:"web_search",max_uses:S.maxUses,allowed_domains:S.allowedDomains,blocked_domains:S.blockedDomains,user_location:S.userLocation,cache_control:void 0});break}default:{y.push({type:"unsupported-tool",tool:h});break}}break}default:{y.push({type:"unsupported-tool",tool:h});break}}if(p==null)return{tools:b,toolChoice:r?{type:"auto",disable_parallel_tool_use:r}:void 0,toolWarnings:y,betas:g};const q=p.type;switch(q){case"auto":return{tools:b,toolChoice:{type:"auto",disable_parallel_tool_use:r},toolWarnings:y,betas:g};case"required":return{tools:b,toolChoice:{type:"any",disable_parallel_tool_use:r},toolWarnings:y,betas:g};case"none":return{tools:void 0,toolChoice:void 0,toolWarnings:y,betas:g};case"tool":return{tools:b,toolChoice:{type:"tool",name:p.toolName,disable_parallel_tool_use:r},toolWarnings:y,betas:g};default:{const h=q;throw new X({functionality:`tool choice type: ${h}`})}}}var ve=O(()=>N(t({type:o("code_execution_result"),stdout:e(),stderr:e(),return_code:s()}))),Qe=O(()=>N(t({code:e()}))),Ze=oe({id:"anthropic.code_execution_20250522",name:"code_execution",inputSchema:Qe,outputSchema:ve}),et=(n={})=>Ze(n),ke=O(()=>N(B("type",[t({type:o("bash_code_execution_result"),content:E(t({type:o("bash_code_execution_output"),file_id:e()})),stdout:e(),stderr:e(),return_code:s()}),t({type:o("bash_code_execution_tool_result_error"),error_code:e()}),t({type:o("text_editor_code_execution_tool_result_error"),error_code:e()}),t({type:o("text_editor_code_execution_view_result"),content:e(),file_type:e(),num_lines:s().nullable(),start_line:s().nullable(),total_lines:s().nullable()}),t({type:o("text_editor_code_execution_create_result"),is_file_update:K()}),t({type:o("text_editor_code_execution_str_replace_result"),lines:E(e()).nullable(),new_lines:s().nullable(),new_start:s().nullable(),old_lines:s().nullable(),old_start:s().nullable()})]))),tt=O(()=>N(B("type",[t({type:o("bash_code_execution"),command:e()}),B("command",[t({type:o("text_editor_code_execution"),command:o("view"),path:e()}),t({type:o("text_editor_code_execution"),command:o("create"),path:e(),file_text:e().nullish()}),t({type:o("text_editor_code_execution"),command:o("str_replace"),path:e(),old_str:e(),new_str:e()})])]))),ot=oe({id:"anthropic.code_execution_20250825",name:"code_execution",inputSchema:tt,outputSchema:ke}),nt=(n={})=>ot(n);function at(n){if(typeof n=="string")return Buffer.from(n,"base64").toString("utf-8");if(n instanceof Uint8Array)return new TextDecoder().decode(n);throw n instanceof URL?new X({functionality:"URL-based text documents are not supported for citations"}):new X({functionality:`unsupported data type for text documents: ${typeof n}`})}async function rt({prompt:n,sendReasoning:p,warnings:r,cacheControlValidator:m}){var y,g,k,b,q;const h=new Set,S=st(n),R=m||new se;let H;const D=[];async function U(j){var x,i;const f=await te({provider:"anthropic",providerOptions:j,schema:_e});return(i=(x=f?.citations)==null?void 0:x.enabled)!=null?i:!1}async function w(j){const x=await te({provider:"anthropic",providerOptions:j,schema:_e});return{title:x?.title,context:x?.context}}for(let j=0;j<S.length;j++){const x=S[j],i=j===S.length-1,f=x.type;switch(f){case"system":{if(H!=null)throw new X({functionality:"Multiple system messages that are separated by user/assistant messages"});H=x.messages.map(({content:u,providerOptions:M})=>({type:"text",text:u,cache_control:R.getCacheControl(M,{type:"system message",canCache:!0})}));break}case"user":{const u=[];for(const M of x.messages){const{role:F,content:L}=M;switch(F){case"user":{for(let T=0;T<L.length;T++){const d=L[T],a=T===L.length-1,$=(y=R.getCacheControl(d.providerOptions,{type:"user message part",canCache:!0}))!=null?y:a?R.getCacheControl(M.providerOptions,{type:"user message",canCache:!0}):void 0;switch(d.type){case"text":{u.push({type:"text",text:d.text,cache_control:$});break}case"file":{if(d.mediaType.startsWith("image/"))u.push({type:"image",source:d.data instanceof URL?{type:"url",url:d.data.toString()}:{type:"base64",media_type:d.mediaType==="image/*"?"image/jpeg":d.mediaType,data:pe(d.data)},cache_control:$});else if(d.mediaType==="application/pdf"){h.add("pdfs-2024-09-25");const C=await U(d.providerOptions),_=await w(d.providerOptions);u.push({type:"document",source:d.data instanceof URL?{type:"url",url:d.data.toString()}:{type:"base64",media_type:"application/pdf",data:pe(d.data)},title:(g=_.title)!=null?g:d.filename,..._.context&&{context:_.context},...C&&{citations:{enabled:!0}},cache_control:$})}else if(d.mediaType==="text/plain"){const C=await U(d.providerOptions),_=await w(d.providerOptions);u.push({type:"document",source:d.data instanceof URL?{type:"url",url:d.data.toString()}:{type:"text",media_type:"text/plain",data:at(d.data)},title:(k=_.title)!=null?k:d.filename,..._.context&&{context:_.context},...C&&{citations:{enabled:!0}},cache_control:$})}else throw new X({functionality:`media type: ${d.mediaType}`});break}}}break}case"tool":{for(let T=0;T<L.length;T++){const d=L[T],a=T===L.length-1,$=(b=R.getCacheControl(d.providerOptions,{type:"tool result part",canCache:!0}))!=null?b:a?R.getCacheControl(M.providerOptions,{type:"tool result message",canCache:!0}):void 0,C=d.output;let _;switch(C.type){case"content":_=C.value.map(v=>{switch(v.type){case"text":return{type:"text",text:v.text};case"media":{if(v.mediaType.startsWith("image/"))return{type:"image",source:{type:"base64",media_type:v.mediaType,data:v.data}};if(v.mediaType==="application/pdf")return h.add("pdfs-2024-09-25"),{type:"document",source:{type:"base64",media_type:v.mediaType,data:v.data}};throw new X({functionality:`media type: ${v.mediaType}`})}}});break;case"text":case"error-text":_=C.value;break;case"json":case"error-json":default:_=JSON.stringify(C.value);break}u.push({type:"tool_result",tool_use_id:d.toolCallId,content:_,is_error:C.type==="error-text"||C.type==="error-json"?!0:void 0,cache_control:$})}break}default:{const T=F;throw new Error(`Unsupported role: ${T}`)}}}D.push({role:"user",content:u});break}case"assistant":{const u=[];for(let M=0;M<x.messages.length;M++){const F=x.messages[M],L=M===x.messages.length-1,{content:T}=F;for(let d=0;d<T.length;d++){const a=T[d],$=d===T.length-1,C=(q=R.getCacheControl(a.providerOptions,{type:"assistant message part",canCache:!0}))!=null?q:$?R.getCacheControl(F.providerOptions,{type:"assistant message",canCache:!0}):void 0;switch(a.type){case"text":{u.push({type:"text",text:i&&L&&$?a.text.trim():a.text,cache_control:C});break}case"reasoning":{if(p){const _=await te({provider:"anthropic",providerOptions:a.providerOptions,schema:$e});_!=null?_.signature!=null?(R.getCacheControl(a.providerOptions,{type:"thinking block",canCache:!1}),u.push({type:"thinking",thinking:a.text,signature:_.signature})):_.redactedData!=null?(R.getCacheControl(a.providerOptions,{type:"redacted thinking block",canCache:!1}),u.push({type:"redacted_thinking",data:_.redactedData})):r.push({type:"other",message:"unsupported reasoning metadata"}):r.push({type:"other",message:"unsupported reasoning metadata"})}else r.push({type:"other",message:"sending reasoning content is disabled for this model"});break}case"tool-call":{if(a.providerExecuted){a.toolName==="code_execution"&&a.input!=null&&typeof a.input=="object"&&"type"in a.input&&typeof a.input.type=="string"&&(a.input.type==="bash_code_execution"||a.input.type==="text_editor_code_execution")?u.push({type:"server_tool_use",id:a.toolCallId,name:a.input.type,input:a.input,cache_control:C}):a.toolName==="code_execution"||a.toolName==="web_fetch"||a.toolName==="web_search"?u.push({type:"server_tool_use",id:a.toolCallId,name:a.toolName,input:a.input,cache_control:C}):r.push({type:"other",message:`provider executed tool call for tool ${a.toolName} is not supported`});break}u.push({type:"tool_use",id:a.toolCallId,name:a.toolName,input:a.input,cache_control:C});break}case"tool-result":{if(a.toolName==="code_execution"){const _=a.output;if(_.type!=="json"){r.push({type:"other",message:`provider executed tool result output type ${_.type} for tool ${a.toolName} is not supported`});break}if(_.value==null||typeof _.value!="object"||!("type"in _.value)||typeof _.value.type!="string"){r.push({type:"other",message:`provider executed tool result output value is not a valid code execution result for tool ${a.toolName}`});break}if(_.value.type==="code_execution_result"){const v=await G({value:_.value,schema:ve});u.push({type:"code_execution_tool_result",tool_use_id:a.toolCallId,content:{type:v.type,stdout:v.stdout,stderr:v.stderr,return_code:v.return_code},cache_control:C})}else{const v=await G({value:_.value,schema:ke});u.push(v.type==="bash_code_execution_result"||v.type==="bash_code_execution_tool_result_error"?{type:"bash_code_execution_tool_result",tool_use_id:a.toolCallId,cache_control:C,content:v}:{type:"text_editor_code_execution_tool_result",tool_use_id:a.toolCallId,cache_control:C,content:v})}break}if(a.toolName==="web_fetch"){const _=a.output;if(_.type!=="json"){r.push({type:"other",message:`provider executed tool result output type ${_.type} for tool ${a.toolName} is not supported`});break}const v=await G({value:_.value,schema:fe});u.push({type:"web_fetch_tool_result",tool_use_id:a.toolCallId,content:{type:"web_fetch_result",url:v.url,retrieved_at:v.retrievedAt,content:{type:"document",title:v.content.title,citations:v.content.citations,source:{type:v.content.source.type,media_type:v.content.source.mediaType,data:v.content.source.data}}},cache_control:C});break}if(a.toolName==="web_search"){const _=a.output;if(_.type!=="json"){r.push({type:"other",message:`provider executed tool result output type ${_.type} for tool ${a.toolName} is not supported`});break}const v=await G({value:_.value,schema:be});u.push({type:"web_search_tool_result",tool_use_id:a.toolCallId,content:v.map(P=>({url:P.url,title:P.title,page_age:P.pageAge,encrypted_content:P.encryptedContent,type:P.type})),cache_control:C});break}r.push({type:"other",message:`provider executed tool result for tool ${a.toolName} is not supported`});break}}}}D.push({role:"assistant",content:u});break}default:{const u=f;throw new Error(`content type: ${u}`)}}}return{prompt:{system:H,messages:D},betas:h}}function st(n){const p=[];let r;for(const m of n){const{role:y}=m;switch(y){case"system":{r?.type!=="system"&&(r={type:"system",messages:[]},p.push(r)),r.messages.push(m);break}case"assistant":{r?.type!=="assistant"&&(r={type:"assistant",messages:[]},p.push(r)),r.messages.push(m);break}case"user":{r?.type!=="user"&&(r={type:"user",messages:[]},p.push(r)),r.messages.push(m);break}case"tool":{r?.type!=="user"&&(r={type:"user",messages:[]},p.push(r)),r.messages.push(m);break}default:{const g=y;throw new Error(`Unsupported role: ${g}`)}}}return p}function me({finishReason:n,isJsonResponseFromTool:p}){switch(n){case"pause_turn":case"end_turn":case"stop_sequence":return"stop";case"refusal":return"content-filter";case"tool_use":return p?"stop":"tool-calls";case"max_tokens":return"length";default:return"unknown"}}function ye(n,p,r){var m;if(n.type!=="page_location"&&n.type!=="char_location")return;const y=p[n.document_index];if(y)return{type:"source",sourceType:"document",id:r(),mediaType:y.mediaType,title:(m=n.document_title)!=null?m:y.title,filename:y.filename,providerMetadata:{anthropic:n.type==="page_location"?{citedText:n.cited_text,startPageNumber:n.start_page_number,endPageNumber:n.end_page_number}:{citedText:n.cited_text,startCharIndex:n.start_char_index,endCharIndex:n.end_char_index}}}}var it=class{constructor(n,p){this.specificationVersion="v2";var r;this.modelId=n,this.config=p,this.generateId=(r=p.generateId)!=null?r:ge}supportsUrl(n){return n.protocol==="https:"}get provider(){return this.config.provider}get supportedUrls(){var n,p,r;return(r=(p=(n=this.config).supportedUrls)==null?void 0:p.call(n))!=null?r:{}}async getArgs({userSuppliedBetas:n,prompt:p,maxOutputTokens:r,temperature:m,topP:y,topK:g,frequencyPenalty:k,presencePenalty:b,stopSequences:q,responseFormat:h,seed:S,tools:R,toolChoice:H,providerOptions:D}){var U,w,j,x,i;const f=[];k!=null&&f.push({type:"unsupported-setting",setting:"frequencyPenalty"}),b!=null&&f.push({type:"unsupported-setting",setting:"presencePenalty"}),S!=null&&f.push({type:"unsupported-setting",setting:"seed"}),m!=null&&m>1?(f.push({type:"unsupported-setting",setting:"temperature",details:`${m} exceeds anthropic maximum of 1.0. clamped to 1.0`}),m=1):m!=null&&m<0&&(f.push({type:"unsupported-setting",setting:"temperature",details:`${m} is below anthropic minimum of 0. clamped to 0`}),m=0),h?.type==="json"&&(h.schema==null?f.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format requires a schema. The response format is ignored."}):R!=null&&f.push({type:"unsupported-setting",setting:"tools",details:"JSON response format does not support tools. The provided tools are ignored."}));const u=await te({provider:"anthropic",providerOptions:D,schema:je}),{maxOutputTokens:M,supportsStructuredOutput:F,isKnownModel:L}=lt(this.modelId),T=(U=u?.structuredOutputMode)!=null?U:"jsonTool",d=T==="outputFormat"||T==="auto"&&F,a=h?.type==="json"&&h.schema!=null&&!d?{type:"function",name:"json",description:"Respond with a JSON object.",inputSchema:h.schema}:void 0,$=new se,{prompt:C,betas:_}=await rt({prompt:p,sendReasoning:(w=u?.sendReasoning)!=null?w:!0,warnings:f,cacheControlValidator:$}),v=((j=u?.thinking)==null?void 0:j.type)==="enabled",P=(x=u?.thinking)==null?void 0:x.budgetTokens,Y=r??M,J={model:this.modelId,max_tokens:Y,temperature:m,top_k:g,top_p:y,stop_sequences:q,...v&&{thinking:{type:"enabled",budget_tokens:P}},...u?.effort&&{output_config:{effort:u.effort}},...d&&h?.type==="json"&&h.schema!=null&&{output_format:{type:"json_schema",schema:h.schema}},...u?.container&&{container:{id:u.container.id,skills:(i=u.container.skills)==null?void 0:i.map(c=>({type:c.type,skill_id:c.skillId,version:c.version}))}},system:C.system,messages:C.messages};if(v){if(P==null)throw new X({functionality:"thinking requires a budget"});J.temperature!=null&&(J.temperature=void 0,f.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported when thinking is enabled"})),g!=null&&(J.top_k=void 0,f.push({type:"unsupported-setting",setting:"topK",details:"topK is not supported when thinking is enabled"})),y!=null&&(J.top_p=void 0,f.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported when thinking is enabled"})),J.max_tokens=Y+P}L&&J.max_tokens>M&&(r!=null&&f.push({type:"unsupported-setting",setting:"maxOutputTokens",details:`${J.max_tokens} (maxOutputTokens + thinkingBudget) is greater than ${this.modelId} ${M} max output tokens. The max output tokens have been limited to ${M}.`}),J.max_tokens=M),u?.container&&u.container.skills&&u.container.skills.length>0&&(_.add("code-execution-2025-08-25"),_.add("skills-2025-10-02"),_.add("files-api-2025-04-14"),R?.some(c=>c.type==="provider-defined"&&c.id==="anthropic.code_execution_20250825")||f.push({type:"other",message:"code execution tool is required when using skills"})),u?.effort&&_.add("effort-2025-11-24"),d&&_.add("structured-outputs-2025-11-13");const{tools:Q,toolChoice:Z,toolWarnings:ee,betas:l}=await Ye(a!=null?{tools:[a],toolChoice:{type:"tool",toolName:a.name},disableParallelToolUse:!0,cacheControlValidator:$}:{tools:R??[],toolChoice:H,disableParallelToolUse:u?.disableParallelToolUse,cacheControlValidator:$}),I=$.getWarnings();return{args:{...J,tools:Q,tool_choice:Z},warnings:[...f,...ee,...I],betas:new Set([..._,...l,...n]),usesJsonResponseTool:a!=null}}async getHeaders({betas:n,headers:p}){return Te(await ce(this.config.headers),p,n.size>0?{"anthropic-beta":Array.from(n).join(",")}:{})}async getBetasFromHeaders(n){var p,r;const y=(p=(await ce(this.config.headers))["anthropic-beta"])!=null?p:"",g=(r=n?.["anthropic-beta"])!=null?r:"";return new Set([...y.toLowerCase().split(","),...g.toLowerCase().split(",")].map(k=>k.trim()).filter(k=>k!==""))}buildRequestUrl(n){var p,r,m;return(m=(r=(p=this.config).buildRequestUrl)==null?void 0:r.call(p,this.config.baseURL,n))!=null?m:`${this.config.baseURL}/messages`}transformRequestBody(n){var p,r,m;return(m=(r=(p=this.config).transformRequestBody)==null?void 0:r.call(p,n))!=null?m:n}extractCitationDocuments(n){const p=r=>{var m,y;if(r.type!=="file"||r.mediaType!=="application/pdf"&&r.mediaType!=="text/plain")return!1;const g=(m=r.providerOptions)==null?void 0:m.anthropic,k=g?.citations;return(y=k?.enabled)!=null?y:!1};return n.filter(r=>r.role==="user").flatMap(r=>r.content).filter(p).map(r=>{var m;const y=r;return{title:(m=y.filename)!=null?m:"Untitled Document",filename:y.filename,mediaType:y.mediaType}})}async doGenerate(n){var p,r,m,y,g,k,b,q;const{args:h,warnings:S,betas:R,usesJsonResponseTool:H}=await this.getArgs({...n,userSuppliedBetas:await this.getBetasFromHeaders(n.headers)}),D=this.extractCitationDocuments(n.prompt),{responseHeaders:U,value:w,rawValue:j}=await ue({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:R,headers:n.headers}),body:this.transformRequestBody(h),failedResponseHandler:de,successfulResponseHandler:Ie(Me),abortSignal:n.abortSignal,fetch:this.config.fetch}),x=[];for(const i of w.content)switch(i.type){case"text":{if(!H&&(x.push({type:"text",text:i.text}),i.citations))for(const f of i.citations){const u=ye(f,D,this.generateId);u&&x.push(u)}break}case"thinking":{x.push({type:"reasoning",text:i.thinking,providerMetadata:{anthropic:{signature:i.signature}}});break}case"redacted_thinking":{x.push({type:"reasoning",text:"",providerMetadata:{anthropic:{redactedData:i.data}}});break}case"tool_use":{x.push(H?{type:"text",text:JSON.stringify(i.input)}:{type:"tool-call",toolCallId:i.id,toolName:i.name,input:JSON.stringify(i.input)});break}case"server_tool_use":{i.name==="text_editor_code_execution"||i.name==="bash_code_execution"?x.push({type:"tool-call",toolCallId:i.id,toolName:"code_execution",input:JSON.stringify({type:i.name,...i.input}),providerExecuted:!0}):(i.name==="web_search"||i.name==="code_execution"||i.name==="web_fetch")&&x.push({type:"tool-call",toolCallId:i.id,toolName:i.name,input:JSON.stringify(i.input),providerExecuted:!0});break}case"web_fetch_tool_result":{i.content.type==="web_fetch_result"?x.push({type:"tool-result",toolCallId:i.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:i.content.url,retrievedAt:i.content.retrieved_at,content:{type:i.content.content.type,title:i.content.content.title,citations:i.content.content.citations,source:{type:i.content.content.source.type,mediaType:i.content.content.source.media_type,data:i.content.content.source.data}}},providerExecuted:!0}):i.content.type==="web_fetch_tool_result_error"&&x.push({type:"tool-result",toolCallId:i.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:i.content.error_code},providerExecuted:!0});break}case"web_search_tool_result":{if(Array.isArray(i.content)){x.push({type:"tool-result",toolCallId:i.tool_use_id,toolName:"web_search",result:i.content.map(f=>{var u;return{url:f.url,title:f.title,pageAge:(u=f.page_age)!=null?u:null,encryptedContent:f.encrypted_content,type:f.type}}),providerExecuted:!0});for(const f of i.content)x.push({type:"source",sourceType:"url",id:this.generateId(),url:f.url,title:f.title,providerMetadata:{anthropic:{pageAge:(p=f.page_age)!=null?p:null}}})}else x.push({type:"tool-result",toolCallId:i.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:i.content.error_code},providerExecuted:!0});break}case"code_execution_tool_result":{i.content.type==="code_execution_result"?x.push({type:"tool-result",toolCallId:i.tool_use_id,toolName:"code_execution",result:{type:i.content.type,stdout:i.content.stdout,stderr:i.content.stderr,return_code:i.content.return_code},providerExecuted:!0}):i.content.type==="code_execution_tool_result_error"&&x.push({type:"tool-result",toolCallId:i.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:i.content.error_code},providerExecuted:!0});break}case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":{x.push({type:"tool-result",toolCallId:i.tool_use_id,toolName:"code_execution",result:i.content,providerExecuted:!0});break}}return{content:x,finishReason:me({finishReason:w.stop_reason,isJsonResponseFromTool:H}),usage:{inputTokens:w.usage.input_tokens,outputTokens:w.usage.output_tokens,totalTokens:w.usage.input_tokens+w.usage.output_tokens,cachedInputTokens:(r=w.usage.cache_read_input_tokens)!=null?r:void 0},request:{body:h},response:{id:(m=w.id)!=null?m:void 0,modelId:(y=w.model)!=null?y:void 0,headers:U,body:j},warnings:S,providerMetadata:{anthropic:{usage:w.usage,cacheCreationInputTokens:(g=w.usage.cache_creation_input_tokens)!=null?g:null,stopSequence:(k=w.stop_sequence)!=null?k:null,container:w.container?{expiresAt:w.container.expires_at,id:w.container.id,skills:(q=(b=w.container.skills)==null?void 0:b.map(i=>({type:i.type,skillId:i.skill_id,version:i.version})))!=null?q:null}:null}}}}async doStream(n){var p,r;const{args:m,warnings:y,betas:g,usesJsonResponseTool:k}=await this.getArgs({...n,userSuppliedBetas:await this.getBetasFromHeaders(n.headers)}),b=this.extractCitationDocuments(n.prompt),q={...m,stream:!0},h=this.buildRequestUrl(!0),{responseHeaders:S,value:R}=await ue({url:h,headers:await this.getHeaders({betas:g,headers:n.headers}),body:this.transformRequestBody(q),failedResponseHandler:de,successfulResponseHandler:Oe(Ue),abortSignal:n.abortSignal,fetch:this.config.fetch});let H="unknown";const D={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},U={};let w,j=null,x=null,i=null,f;const u=this.generateId,M=R.pipeThrough(new TransformStream({start(d){d.enqueue({type:"stream-start",warnings:y})},transform(d,a){var $,C,_,v,P,Y,J,Q,Z,ee;if(n.includeRawChunks&&a.enqueue({type:"raw",rawValue:d.rawValue}),!d.success){a.enqueue({type:"error",error:d.error});return}const l=d.value;switch(l.type){case"ping":return;case"content_block_start":{const I=l.content_block.type;switch(f=I,I){case"text":{U[l.index]={type:"text"},a.enqueue({type:"text-start",id:String(l.index)});return}case"thinking":{U[l.index]={type:"reasoning"},a.enqueue({type:"reasoning-start",id:String(l.index)});return}case"redacted_thinking":{U[l.index]={type:"reasoning"},a.enqueue({type:"reasoning-start",id:String(l.index),providerMetadata:{anthropic:{redactedData:l.content_block.data}}});return}case"tool_use":{U[l.index]=k?{type:"text"}:{type:"tool-call",toolCallId:l.content_block.id,toolName:l.content_block.name,input:"",firstDelta:!0},a.enqueue(k?{type:"text-start",id:String(l.index)}:{type:"tool-input-start",id:l.content_block.id,toolName:l.content_block.name});return}case"server_tool_use":{if(["web_fetch","web_search","code_execution","text_editor_code_execution","bash_code_execution"].includes(l.content_block.name)){U[l.index]={type:"tool-call",toolCallId:l.content_block.id,toolName:l.content_block.name,input:"",providerExecuted:!0,firstDelta:!0};const c=l.content_block.name==="text_editor_code_execution"||l.content_block.name==="bash_code_execution"?"code_execution":l.content_block.name;a.enqueue({type:"tool-input-start",id:l.content_block.id,toolName:c,providerExecuted:!0})}return}case"web_fetch_tool_result":{const c=l.content_block;c.content.type==="web_fetch_result"?a.enqueue({type:"tool-result",toolCallId:c.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:c.content.url,retrievedAt:c.content.retrieved_at,content:{type:c.content.content.type,title:c.content.content.title,citations:c.content.content.citations,source:{type:c.content.content.source.type,mediaType:c.content.content.source.media_type,data:c.content.content.source.data}}},providerExecuted:!0}):c.content.type==="web_fetch_tool_result_error"&&a.enqueue({type:"tool-result",toolCallId:c.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:c.content.error_code},providerExecuted:!0});return}case"web_search_tool_result":{const c=l.content_block;if(Array.isArray(c.content)){a.enqueue({type:"tool-result",toolCallId:c.tool_use_id,toolName:"web_search",result:c.content.map(A=>{var ie;return{url:A.url,title:A.title,pageAge:(ie=A.page_age)!=null?ie:null,encryptedContent:A.encrypted_content,type:A.type}}),providerExecuted:!0});for(const A of c.content)a.enqueue({type:"source",sourceType:"url",id:u(),url:A.url,title:A.title,providerMetadata:{anthropic:{pageAge:($=A.page_age)!=null?$:null}}})}else a.enqueue({type:"tool-result",toolCallId:c.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:c.content.error_code},providerExecuted:!0});return}case"code_execution_tool_result":{const c=l.content_block;c.content.type==="code_execution_result"?a.enqueue({type:"tool-result",toolCallId:c.tool_use_id,toolName:"code_execution",result:{type:c.content.type,stdout:c.content.stdout,stderr:c.content.stderr,return_code:c.content.return_code},providerExecuted:!0}):c.content.type==="code_execution_tool_result_error"&&a.enqueue({type:"tool-result",toolCallId:c.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:c.content.error_code},providerExecuted:!0});return}case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":{const c=l.content_block;a.enqueue({type:"tool-result",toolCallId:c.tool_use_id,toolName:"code_execution",result:c.content,providerExecuted:!0});return}default:{const c=I;throw new Error(`Unsupported content block type: ${c}`)}}}case"content_block_stop":{if(U[l.index]!=null){const I=U[l.index];switch(I.type){case"text":{a.enqueue({type:"text-end",id:String(l.index)});break}case"reasoning":{a.enqueue({type:"reasoning-end",id:String(l.index)});break}case"tool-call":if(!k){a.enqueue({type:"tool-input-end",id:I.toolCallId});const c=I.toolName==="text_editor_code_execution"||I.toolName==="bash_code_execution"?"code_execution":I.toolName;a.enqueue({type:"tool-call",toolCallId:I.toolCallId,toolName:c,input:I.input===""?"{}":I.input,providerExecuted:I.providerExecuted})}break}delete U[l.index]}f=void 0;return}case"content_block_delta":{const I=l.delta.type;switch(I){case"text_delta":{if(k)return;a.enqueue({type:"text-delta",id:String(l.index),delta:l.delta.text});return}case"thinking_delta":{a.enqueue({type:"reasoning-delta",id:String(l.index),delta:l.delta.thinking});return}case"signature_delta":{f==="thinking"&&a.enqueue({type:"reasoning-delta",id:String(l.index),delta:"",providerMetadata:{anthropic:{signature:l.delta.signature}}});return}case"input_json_delta":{const c=U[l.index];let A=l.delta.partial_json;if(A.length===0)return;if(k){if(c?.type!=="text")return;a.enqueue({type:"text-delta",id:String(l.index),delta:A})}else{if(c?.type!=="tool-call")return;c.firstDelta&&(c.toolName==="bash_code_execution"||c.toolName==="text_editor_code_execution")&&(A=`{"type": "${c.toolName}",${A.substring(1)}`),a.enqueue({type:"tool-input-delta",id:c.toolCallId,delta:A}),c.input+=A,c.firstDelta=!1}return}case"citations_delta":{const c=l.delta.citation,A=ye(c,b,u);A&&a.enqueue(A);return}default:{const c=I;throw new Error(`Unsupported delta type: ${c}`)}}}case"message_start":{D.inputTokens=l.message.usage.input_tokens,D.cachedInputTokens=(C=l.message.usage.cache_read_input_tokens)!=null?C:void 0,w={...l.message.usage},j=(_=l.message.usage.cache_creation_input_tokens)!=null?_:null,a.enqueue({type:"response-metadata",id:(v=l.message.id)!=null?v:void 0,modelId:(P=l.message.model)!=null?P:void 0});return}case"message_delta":{D.outputTokens=l.usage.output_tokens,D.totalTokens=((Y=D.inputTokens)!=null?Y:0)+((J=l.usage.output_tokens)!=null?J:0),H=me({finishReason:l.delta.stop_reason,isJsonResponseFromTool:k}),x=(Q=l.delta.stop_sequence)!=null?Q:null,i=l.delta.container!=null?{expiresAt:l.delta.container.expires_at,id:l.delta.container.id,skills:(ee=(Z=l.delta.container.skills)==null?void 0:Z.map(I=>({type:I.type,skillId:I.skill_id,version:I.version})))!=null?ee:null}:null,w={...w,...l.usage};return}case"message_stop":{a.enqueue({type:"finish",finishReason:H,usage:D,providerMetadata:{anthropic:{usage:w??null,cacheCreationInputTokens:j,stopSequence:x,container:i}}});return}case"error":{a.enqueue({type:"error",error:l.error});return}default:{const I=l;throw new Error(`Unsupported chunk type: ${I}`)}}}})),[F,L]=M.tee(),T=F.getReader();try{await T.read();let d=await T.read();if(((p=d.value)==null?void 0:p.type)==="raw"&&(d=await T.read()),((r=d.value)==null?void 0:r.type)==="error"){const a=d.value.error;throw new Ne({message:a.message,url:h,requestBodyValues:q,statusCode:a.type==="overloaded_error"?529:500,responseHeaders:S,responseBody:JSON.stringify(a),isRetryable:a.type==="overloaded_error"})}}finally{T.cancel().catch(()=>{}),T.releaseLock()}return{stream:L,request:{body:q},response:{headers:S}}}};function lt(n){return n.includes("claude-sonnet-4-5")||n.includes("claude-opus-4-5")?{maxOutputTokens:64e3,supportsStructuredOutput:!0,isKnownModel:!0}:n.includes("claude-opus-4-1")?{maxOutputTokens:32e3,supportsStructuredOutput:!0,isKnownModel:!0}:n.includes("claude-sonnet-4-")||n.includes("claude-3-7-sonnet")||n.includes("claude-haiku-4-5")?{maxOutputTokens:64e3,supportsStructuredOutput:!1,isKnownModel:!0}:n.includes("claude-opus-4-")?{maxOutputTokens:32e3,supportsStructuredOutput:!1,isKnownModel:!0}:n.includes("claude-3-5-haiku")?{maxOutputTokens:8192,supportsStructuredOutput:!1,isKnownModel:!0}:n.includes("claude-3-haiku")?{maxOutputTokens:4096,supportsStructuredOutput:!1,isKnownModel:!0}:{maxOutputTokens:4096,supportsStructuredOutput:!1,isKnownModel:!1}}var ct=O(()=>N(t({command:e(),restart:K().optional()}))),ut=z({id:"anthropic.bash_20241022",name:"bash",inputSchema:ct}),pt=O(()=>N(t({command:e(),restart:K().optional()}))),dt=z({id:"anthropic.bash_20250124",name:"bash",inputSchema:pt}),_t=O(()=>N(t({action:W(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:E(s().int()).optional(),text:e().optional()}))),ht=z({id:"anthropic.computer_20241022",name:"computer",inputSchema:_t}),mt=O(()=>N(t({action:W(["key","hold_key","type","cursor_position","mouse_move","left_mouse_down","left_mouse_up","left_click","left_click_drag","right_click","middle_click","double_click","triple_click","scroll","wait","screenshot"]),coordinate:ne([s().int(),s().int()]).optional(),duration:s().optional(),scroll_amount:s().optional(),scroll_direction:W(["up","down","left","right"]).optional(),start_coordinate:ne([s().int(),s().int()]).optional(),text:e().optional()}))),yt=z({id:"anthropic.computer_20250124",name:"computer",inputSchema:mt}),gt=O(()=>N(B("command",[t({command:o("view"),path:e(),view_range:ne([s(),s()]).optional()}),t({command:o("create"),path:e(),file_text:e()}),t({command:o("str_replace"),path:e(),old_str:e(),new_str:e()}),t({command:o("insert"),path:e(),insert_line:s(),insert_text:e()}),t({command:o("delete"),path:e()}),t({command:o("rename"),old_path:e(),new_path:e()})]))),xt=z({id:"anthropic.memory_20250818",name:"memory",inputSchema:gt}),bt=O(()=>N(t({command:W(["view","create","str_replace","insert","undo_edit"]),path:e(),file_text:e().optional(),insert_line:s().int().optional(),new_str:e().optional(),old_str:e().optional(),view_range:E(s().int()).optional()}))),ft=z({id:"anthropic.text_editor_20241022",name:"str_replace_editor",inputSchema:bt}),vt=O(()=>N(t({command:W(["view","create","str_replace","insert","undo_edit"]),path:e(),file_text:e().optional(),insert_line:s().int().optional(),new_str:e().optional(),old_str:e().optional(),view_range:E(s().int()).optional()}))),kt=z({id:"anthropic.text_editor_20250124",name:"str_replace_editor",inputSchema:vt}),wt=O(()=>N(t({command:W(["view","create","str_replace","insert"]),path:e(),file_text:e().optional(),insert_line:s().int().optional(),new_str:e().optional(),old_str:e().optional(),view_range:E(s().int()).optional()}))),Ct=z({id:"anthropic.text_editor_20250429",name:"str_replace_based_edit_tool",inputSchema:wt}),St={bash_20241022:ut,bash_20250124:dt,codeExecution_20250522:et,codeExecution_20250825:nt,computer_20241022:ht,computer_20250124:yt,memory_20250818:xt,textEditor_20241022:ft,textEditor_20250124:kt,textEditor_20250429:Ct,textEditor_20250728:Pe,webFetch_20250910:Xe,webSearch_20250305:Fe};function Tt(n={}){var p,r;const m=(p=we(Ce({settingValue:n.baseURL,environmentVariableName:"ANTHROPIC_BASE_URL"})))!=null?p:"https://api.anthropic.com/v1",y=(r=n.name)!=null?r:"anthropic.messages",g=()=>Se({"anthropic-version":"2023-06-01","x-api-key":Ee({apiKey:n.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...n.headers},`ai-sdk/anthropic/${Re}`),k=q=>{var h;return new it(q,{provider:y,baseURL:m,headers:g,fetch:n.fetch,generateId:(h=n.generateId)!=null?h:ge,supportedUrls:()=>({"image/*":[/^https?:\/\/.*$/]})})},b=function(q){if(new.target)throw new Error("The Anthropic model function cannot be called with the new keyword.");return k(q)};return b.languageModel=k,b.chat=k,b.messages=k,b.textEmbeddingModel=q=>{throw new le({modelId:q,modelType:"textEmbeddingModel"})},b.imageModel=q=>{throw new le({modelId:q,modelType:"imageModel"})},b.tools=St,b}var Et=Tt();export{Re as VERSION,Et as anthropic,Tt as createAnthropic};
//# sourceMappingURL=index-CCVAsO2o.js.map
